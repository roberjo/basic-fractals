10 REM FRACTAL GENERATOR FOR APPLE IIE
20 REM VERSION 1.0
30 REM (C) 2024

40 REM INITIALIZE VARIABLES
50 DIM C%(280,192): REM COLOR BUFFER
60 DIM P%(280,192): REM PIXEL BUFFER
70 DIM L%(16): REM LOOKUP TABLE FOR ITERATIONS
80 DIM K$(10): REM KEYBOARD BUFFER

90 REM SCREEN DIMENSIONS
100 WIDTH = 280: HEIGHT = 192
110 XMIN = -2: XMAX = 2
120 YMIN = -1.5: YMAX = 1.5

130 REM DEFAULT PARAMETERS
140 MAXITER = 50
150 ESCAPE = 4
160 COLORSCHEME = 1

170 REM INITIALIZE SCREEN
180 HGR2 : HCOLOR= 3
190 CALL -1998: REM CLEAR SCREEN

200 REM MAIN MENU
210 GOSUB 1000: REM DISPLAY MENU
220 GOSUB 2000: REM GET USER INPUT
230 GOTO 210

1000 REM DISPLAY MENU
1010 PRINT "FRACTAL GENERATOR"
1020 PRINT "----------------"
1030 PRINT "1. MANDELBROT SET"
1040 PRINT "2. JULIA SET"
1050 PRINT "3. SIERPINSKI TRIANGLE"
1060 PRINT "4. SETTINGS"
1070 PRINT "5. HELP"
1080 PRINT "6. EXIT"
1090 PRINT
1100 PRINT "SELECT OPTION (1-6): ";
1110 RETURN

2000 REM GET USER INPUT
2010 GET K$
2020 IF K$ = "1" THEN GOSUB 3000: REM MANDELBROT
2030 IF K$ = "2" THEN GOSUB 4000: REM JULIA
2040 IF K$ = "3" THEN GOSUB 5000: REM SIERPINSKI
2050 IF K$ = "4" THEN GOSUB 6000: REM SETTINGS
2060 IF K$ = "5" THEN GOSUB 7000: REM HELP
2070 IF K$ = "6" THEN END
2080 RETURN

3000 REM MANDELBROT SET ROUTINE
3010 PRINT "RENDERING MANDELBROT SET..."
3020 GOSUB 8000: REM RENDER FRACTAL
3030 RETURN

4000 REM JULIA SET ROUTINE
4010 PRINT "RENDERING JULIA SET..."
4020 GOSUB 8000: REM RENDER FRACTAL
4030 RETURN

5000 REM SIERPINSKI TRIANGLE ROUTINE
5010 PRINT "RENDERING SIERPINSKI TRIANGLE..."
5020 GOSUB 9000: REM RENDER SIERPINSKI
5030 RETURN

6000 REM SETTINGS MENU
6010 PRINT "SETTINGS MENU"
6020 PRINT "1. ITERATIONS: ";MAXITER
6030 PRINT "2. ESCAPE RADIUS: ";ESCAPE
6040 PRINT "3. COLOR SCHEME: ";COLORSCHEME
6050 PRINT "4. RETURN TO MAIN MENU"
6060 GET K$
6070 IF K$ = "1" THEN INPUT "NEW ITERATIONS: ";MAXITER
6080 IF K$ = "2" THEN INPUT "NEW ESCAPE RADIUS: ";ESCAPE
6090 IF K$ = "3" THEN INPUT "NEW COLOR SCHEME: ";COLORSCHEME
6100 IF K$ = "4" THEN RETURN
6110 GOTO 6010

7000 REM HELP SCREEN
7010 PRINT "FRACTAL GENERATOR HELP"
7020 PRINT "---------------------"
7030 PRINT "USE ARROW KEYS TO NAVIGATE"
7040 PRINT "SPACE TO ZOOM IN"
7050 PRINT "Z TO ZOOM OUT"
7060 PRINT "S TO SAVE"
7070 PRINT "L TO LOAD"
7080 PRINT "ESC TO RETURN TO MENU"
7090 PRINT
7100 PRINT "PRESS ANY KEY TO CONTINUE"
7110 GET K$
7120 RETURN

8000 REM FRACTAL RENDERING ROUTINE
8010 FOR Y = 0 TO HEIGHT - 1
8020 FOR X = 0 TO WIDTH - 1
8030 X0 = XMIN + (XMAX - XMIN) * X / WIDTH
8040 Y0 = YMIN + (YMAX - YMIN) * Y / HEIGHT
8050 X1 = 0: Y1 = 0
8060 ITER = 0
8070 WHILE X1 * X1 + Y1 * Y1 <= ESCAPE AND ITER < MAXITER
8080 X2 = X1 * X1 - Y1 * Y1 + X0
8090 Y2 = 2 * X1 * Y1 + Y0
8100 X1 = X2: Y1 = Y2
8110 ITER = ITER + 1
8120 WEND
8130 C = ITER MOD 6
8140 HPLOT X,Y
8150 HCOLOR= C
8160 NEXT X
8170 NEXT Y
8180 RETURN

9000 REM SIERPINSKI TRIANGLE ROUTINE
9010 X1 = WIDTH / 2: Y1 = 0
9020 X2 = 0: Y2 = HEIGHT - 1
9030 X3 = WIDTH - 1: Y3 = HEIGHT - 1
9040 X = RND(1) * WIDTH
9050 Y = RND(1) * HEIGHT
9060 FOR I = 1 TO 10000
9070 R = INT(RND(1) * 3) + 1
9080 IF R = 1 THEN X = (X + X1) / 2: Y = (Y + Y1) / 2
9090 IF R = 2 THEN X = (X + X2) / 2: Y = (Y + Y2) / 2
9100 IF R = 3 THEN X = (X + X3) / 2: Y = (Y + Y3) / 2
9110 HPLOT X,Y
9120 NEXT I
9130 RETURN

10000 REM COLOR CYCLING ANIMATION
10010 FOR C = 0 TO 5
10020 HCOLOR= C
10030 FOR Y = 0 TO HEIGHT - 1
10040 FOR X = 0 TO WIDTH - 1
10050 IF C%(X,Y) = C THEN HPLOT X,Y
10060 NEXT X
10070 NEXT Y
10080 NEXT C
10090 RETURN

11000 REM SAVE FRACTAL
11010 PRINT "SAVING FRACTAL..."
11020 REM SAVE ROUTINE TO BE IMPLEMENTED
11030 RETURN

12000 REM LOAD FRACTAL
12010 PRINT "LOADING FRACTAL..."
12020 REM LOAD ROUTINE TO BE IMPLEMENTED
12030 RETURN 